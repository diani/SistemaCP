<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    

    <h:head>
        <title><ui:insert name="title">Default Title</ui:insert></title>
        <h:outputStylesheet library="css" name="jsfcrud.css"/>
        <h:outputStylesheet library="css" name="clock.css"/>
        <h:outputScript library="js" name="jsfcrud.js"/>
        <h:outputScript library="js" name="http://code.jquery.com/jquery-1.6.4.min.js"/>
  
        <script type="text/javascript">
        $(document).ready(function() {
        // Create two variable with the names of the months and days in an array
        var monthNames = [ "Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", "Julio", "Agosto", "Septtiembre", "Octubre", "Noviembre", "Diciembre" ]; 
        var dayNames= ["Domingo","Lunes","Martes","Miercoles","Jueves","Viernes","Sábado"];

        // Create a newDate() object
        var newDate = new Date();
        // Extract the current date from Date object
        newDate.setDate(newDate.getDate());
        // Output the day, date, month and year   
        $('#Date').html(dayNames[newDate.getDay()] + " " + newDate.getDate() + ' ' + monthNames[newDate.getMonth()] + ' ' + newDate.getFullYear());

        setInterval( function() {
                // Create a newDate() object and extract the seconds of the current time on the visitor's
                var seconds = new Date().getSeconds();
                // Add a leading zero to seconds value
                $("#sec").html(( seconds &lt; 10 ? "0" : "" ) + seconds);
                },1000);

        setInterval( function() {
                // Create a newDate() object and extract the minutes of the current time on the visitor's
                var minutes = new Date().getMinutes();
                // Add a leading zero to the minutes value
                $("#min").html(( minutes &lt; 10 ? "0" : "" ) + minutes);
            },1000);

        setInterval( function() {
                // Create a newDate() object and extract the hours of the current time on the visitor's
                var hours = new Date().getHours();
                // Add a leading zero to the hours value
                $("#hours").html(( hours &lt; 10 ? "0" : "" ) + hours);
            }, 1000);	
        });
        </script>
        
        
    </h:head>

    <h:body>
        <p:notificationBar position="top" effect="slide" styleClass="top" widgetVar="bar">
            <h:outputText value="" style="font-size:36px;" />
        </p:notificationBar>
        <p:layout fullPage="true">
            
            <p:layoutUnit position="north" >  
                <div>
                    <div style="background-image: url(#{facesContext.externalContext.requestContextPath}/resources/imagenes/layer/arriba.png); height: 15px; width: 100%;">
                    </div>
                    <div style="background-image: url(#{facesContext.externalContext.requestContextPath}/resources/imagenes/layer/fondo.png); height: 130px; width: 100%;">
                        <div style="width: 30%; float: left;" align="center">
                            <img src="#{facesContext.externalContext.requestContextPath}/resources/imagenes/layer/proesemica.png" />
                        </div>    
                        <div style="width: 70%; float: left;" align="center">
                            <img src="#{facesContext.externalContext.requestContextPath}/resources/imagenes/layer/scp.png" style="padding-top: 20px;"/>
                        </div>    
                    </div>
                    <div style="background-image: url(#{facesContext.externalContext.requestContextPath}/resources/imagenes/layer/abajo.png); height: 15px; width: 100%;">
                    </div>
                    
                    <h:form id="menuForm">
                        <p:menubar>
                            <p:menuitem value="#{bundle.Home}" outcome="/admin/crud/home.xhtml" icon="ui-icon-home"/>
                            
                            <p:submenu label="Administración" icon="ui-icon-gear" rendered="#{loginController.usuactivo.rolId.rolDescripcion!='JEFE'}">
                                <p:submenu label="#{bundle.Admin}" icon="ui-icon-person">
                                    <p:menuitem value="Usuario" outcome="/admin/crud/usuario/List.xhtml" />
                                    <p:menuitem value="Rol" outcome="/admin/crud/rol/List.xhtml" />                                                         
                                </p:submenu>
                                <p:submenu label="#{bundle.Unidades}">                              
                                    <p:menuitem value="Presentacion de Productos" outcome="/admin/crud/presentacionProducto/List.xhtml" />                     
                                    <p:menuitem value="Unidades de MP" outcome="/admin/crud/unidadesMp/List.xhtml" />
                                </p:submenu>
                                <p:submenu label="#{bundle.Negocio}">                              
                                    <p:menuitem value="Actividad" outcome="/admin/crud/actividad/List.xhtml" />
                                    <p:menuitem value="Proceso" outcome="/admin/crud/proceso/List.xhtml" />
                                    <p:menuitem value="Tarea" outcome="/admin/crud/tarea/List.xhtml" />
                                </p:submenu>
                                <p:menuitem value="Productos" outcome="/admin/crud/producto/List.xhtml" />
                            </p:submenu>
                            <p:menuitem value="Planificación" outcome="/planificacionProcesos/crearPlanificacion.xhtml" />
                            <p:menuitem value="Tiempos Producción" outcome="/tiemposProduccion/tiempos.xhtml" />
                            <f:facet name="options" rendered="#{loginController.usuactivo != null}">
                                <p:outputLabel value="Usuario:"/>
                                <p:outputLabel value="#{loginController.usuactivo.usuUsuario}"/>
                                <p:spacer width="5px" height="1px"/>
                                <p:commandButton value="Cerrar sesión" action="#{loginController.cerrarSesion()}"/>
                                                          
                            </f:facet>
                            
                        </p:menubar>                         
                    </h:form>
                </div>
            </p:layoutUnit>
            
            <p:layoutUnit position="south">
                
                <div>
                    <div style="width: 67%; float: left;" align="center">
                        <div class="clock">
                        <div id="Date"></div>
                        <ul class="ulclock">
                              <li id="hours"></li>
                              <li id="point">:</li>
                              <li id="min"></li>
                              <li id="point">:</li>
                              <li id="sec"></li>
                          </ul>
                        </div>
                    </div>
                    
                    <h:form>
                        <div style="width: 33%; float: left;" align="center">
                            <p:outputLabel value="Usuario:"/>
                            <p:outputLabel value="#{loginController.usuactivo.usuUsuario}"/>
                            <p:spacer width="5px" height="1px"/>
                            <p:commandButton value="Cerrar sesión" action="#{loginController.cerrarSesion()}"/>                          
                        </div>
                    </h:form>
                    
                </div>
            </p:layoutUnit>

            <p:layoutUnit position="center">
                
                
                <ui:insert name="body"/>
            </p:layoutUnit>
        
        </p:layout>
    </h:body>
    
</html>
